<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="dataSource">

    <select id="getUserList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            USER_ID AS CODE_CD, USER_NM AS CODE_NM
        FROM jmes.TBL_USER
        WHERE 1 = 1
          AND DEL_YN = 'N'
    </select>

    <select id="getCompanyStaffList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            A.COMP_CD, B.STAFF_SEQ AS CODE_CD, B.STAFF_NM AS CODE_NM
        FROM TBL_COMPANY A
            INNER JOIN TBL_COMPANY_STAFF B ON A.COMP_CD = B.COMP_CD AND B.DEL_YN = 'N'
        WHERE 1 = 1
        <if test="COMP_CD !='' and COMP_CD != null">
            AND A.COMP_CD = #{COMP_CD}
        </if>
          AND A.DEL_YN = 'N'
    </select>

    <select id="getOrderCompanyList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            COMP_CD AS CODE_CD, COMP_NM AS CODE_NM
            ,COMP_NM AS `text`, CAST(COMP_CD AS CHAR) AS `value`
        FROM TBL_COMPANY
        WHERE 1 = 1
            AND ORDER_COMPANY_YN = 'Y'
            AND DEL_YN = 'N'
    </select>

    <select id="getBusinessCompanyList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            COMP_CD AS CODE_CD, COMP_NM AS CODE_NM
            ,COMP_NM AS `text`, CAST(COMP_CD AS CHAR) AS `value`
        FROM TBL_COMPANY
        WHERE 1 = 1
            AND FAMILY_COMPANY_YN = 'Y'
            AND DEL_YN = 'N'
    </select>

    <select id="getOutsourceCompanyList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            COMP_CD AS CODE_CD, COMP_NM AS CODE_NM
            ,COMP_NM AS `text`, CAST(COMP_CD AS CHAR) AS `value`
        FROM TBL_COMPANY
        WHERE 1 = 1
                    AND CO_COMPANY_YN = 'Y'
                    AND DEL_YN = 'N'
    </select>

    <select id="getRownumEmptyData" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        with recursive empty_tbl as (
        select 1 as ROWNUM
        union all
        select ROWNUM + 1  from empty_tbl where ROWNUM <![CDATA[<]]> ${COUNT}
        )
        select ROWNUM from empty_tbl;
    </select>

    <select id="emptyGrid" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT 1 FROM DUAL WHERE FALSE
    </select>

    <select id="getLocationListWithWarehouse" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            LOC_NM AS `text`, CAST(LOC_SEQ AS CHAR) AS `value`
        FROM TBL_WAREHOUSE_LOCATION
        WHERE 1=1
            AND DEL_YN = 'N'
            <if test="WAREHOUSE_CD !='' and WAREHOUSE_CD != null">
                AND WAREHOUSE_CD = #{WAREHOUSE_CD}
            </if>
    </select>

    <select id="selectCompanyStaffEmailList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            B.STAFF_SEQ, A.COMP_CD, B.STAFF_NM, B.STAFF_TEL, B.STAFF_EMAIL
        FROM TBL_COMPANY A
            INNER JOIN TBL_COMPANY_STAFF B ON A. COMP_CD = B.COMP_CD
                AND B.DEL_YN = 'N'
        WHERE 1 = 1
            AND A.DEL_YN = 'N'
            AND A.COMP_CD = #{COMP_CD}
    </select>

    <select id="getEquipList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT EQUIP_ID AS CODE_CD, EQUIP_NM AS CODE_NM
        FROM TBL_EQUIP
        WHERE 1 = 1
            AND DEL_YN = 'N'
    </select>

    <select id="selectRoleCommonCode" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            ROLE_SEQ AS CODE_CD,
            ROLE_NM  AS CODE_NM
        FROM TBL_ROLE
        WHERE 1 = 1
        ORDER BY ROLE_NM
    </select>


    <select id="selectOrderCompChargeList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
            B.USER_NM AS CODE_NM, B.USER_ID AS CODE_CD
        FROM TBL_COMPANY A
                 INNER JOIN TBL_USER B ON A.CHARGE_USER_ID = B.USER_ID AND B.DEL_YN = 'N'
        WHERE A.DEL_YN = 'N'
        ORDER BY B.USER_NM
    </select>

</mapper>